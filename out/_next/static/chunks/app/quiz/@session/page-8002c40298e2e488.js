(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{2613:(e,r,t)=>{Promise.resolve().then(t.bind(t,3065))},6323:(e,r,t)=>{"use strict";t.d(r,{X:()=>c,l:()=>i});var s=t(9295),n=t(565);let i=(0,s.xP)({reducerPath:"api",baseQuery:(0,n.cw)({baseUrl:""}),endpoints:e=>({getQuiz:e.query({query:e=>e})})}),{useGetQuizQuery:c}=i},7799:(e,r,t)=>{"use strict";t.d(r,{J:()=>i,i:()=>n});let s=(0,t(2212).Z0)({name:"QuizMap",initialState:()=>"main",reducers:{current:e=>e,change:(e,r)=>{let{payload:t}=r;return t}}}),n=s.actions,i=s.reducer},9095:(e,r,t)=>{"use strict";t.d(r,{H:()=>n,i:()=>i});let s=(0,t(2212).Z0)({name:"QuizRecord",initialState:{isRecording:!0,history:[]},reducers:{setIsRecording:(e,r)=>{let{payload:t}=r;e.isRecording=t},add:(e,r)=>{let{payload:t}=r;return{isRecording:e.isRecording,history:[...e.history,t]}},clean:e=>({isRecording:e.isRecording,history:[]})}}),n=s.actions,i=s.reducer},4499:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c,k:()=>a});var s=t(2212);let n={questions:[],userAnswers:[],correctAnswers:[],userQuizResult:[]},i=(0,s.Z0)({name:"QuizStats",initialState:n,reducers:{update:(e,r)=>{let{payload:t}=r;return{questions:[...e.questions,t.question],userAnswers:[...e.userAnswers,t.userAnswer],correctAnswers:[...e.correctAnswers,t.correctAnswer],userQuizResult:[...e.userQuizResult,t.userQuizResult]}},reset:()=>n}}),c=i.actions,a=i.reducer},6266:(e,r,t)=>{"use strict";t.d(r,{GV:()=>i,jL:()=>n});var s=t(3391);let n=s.wA.withTypes(),i=s.d4.withTypes();s.Pj.withTypes()},3065:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var s=t(5155),n=t(2115),i=t(6266),c=t(6323),a=t(7799),l=t(9095),o=t(926);let u=()=>{let{category:e,difficulty:r,type:t,amount:s}=(0,i.GV)(e=>e.settingsReducer);return{isURLValid:!!(e&&r&&t&&s),URL:"https://opentdb.com/api.php?amount=".concat(s,"&category=").concat(e,"&difficulty=").concat(r,"&type=").concat(t),type:t}};var d=t(3391),f=t(4499);let p=e=>{let{setSessionProgressTracker:r,question:t,correctAnswer:n,incorrectAnswers:i}=e,c=(0,d.wA)(),a=Array.from([...i,n]).sort(()=>Math.random()-.5).map((e,r)=>(0,s.jsx)("div",{className:"w-5/6 h-12 flex justify-center items-center bg-pink-600 bg-opacity-80 text-white cursor-pointer hover:bg-opacity-100",onClick:()=>l(e),children:e},r)),l=e=>{c(f.Z.update({question:t,userAnswer:e,correctAnswer:n,userQuizResult:e===n})),r(e=>({...e,current:e.current+1}))};return(0,s.jsx)("div",{className:"w-full h-3/5 flex flex-col justify-center gap-y-2 items-center",children:a})};var h=t(1589);let m=e=>{let{correctAnswer:r,setSessionProgressTracker:t,question:n}=e,i=(0,d.wA)(),c=e=>{let s=e.currentTarget.dataset.answer;i(f.Z.update({question:n,userAnswer:s,correctAnswer:r,userQuizResult:s==r})),t(e=>({...e,current:e.current+1}))};return(0,s.jsxs)("div",{className:"w-6/12 h-3/5 flex items-center gap-x-2  ",children:[(0,s.jsx)("div",{className:"bool-choice-true-shadow w-6/12 h-3/6  flex justify-center items-center bg-slate-400 bg-opacity-60","data-answer":"True",onClick:e=>c(e),children:(0,s.jsx)(h.CMH,{className:"scale-[3] text-green-700"})}),(0,s.jsx)("div",{className:"bool-choice-true-shadow w-6/12 h-3/6 flex justify-center items-center","data-answer":"False",onClick:e=>c(e),children:(0,s.jsx)(h.V2x,{className:"scale-[3] text-red-700"})})]})},y=()=>(0,s.jsx)("div",{className:"flex justify-center items-center w-full overflow-hidden inset-0 absolute",children:(0,s.jsx)("div",{className:"w-20 h-20 rounded-full border-4 border-white border-x-transparent animate-spin"})});var w=t(560);t(5547);let b=(0,n.lazy)(()=>Promise.all([t.e(277),t.e(769)]).then(t.bind(t,3769))),v=()=>{let{URL:e,type:r}=u(),{data:t,isLoading:d,error:f,isError:h}=(0,c.X)(e),v=(0,i.jL)(),g=(0,i.GV)(e=>e.statsReducer),{isRecording:j}=(0,i.GV)(e=>e.recordReducer),{category:x,type:O,difficulty:N}=(0,i.GV)(e=>e.settingsReducer),{percentage:P,total:R,correctAnswersLength:A}=(0,w.A)(),[k,S]=(0,n.useState)({current:0,max:R}),{current:z,max:E}=k;if((0,n.useEffect)(()=>{if(z==E){let{correctAnswers:e,questions:r,userAnswers:t,userQuizResult:s}=g;j&&v(l.H.add({percentage:P,correct:A,total:R,questions:r,correctAnswers:e,answers:t,result:s,category:x,difficulty:N,type:O})),v(a.i.change("result"))}}),z==E)return;if(d||!(null==t?void 0:t.results))return(0,s.jsx)(y,{});if(h)return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(y,{}),children:(0,s.jsx)(b,{reason:f.status,desciption:f.error})});if(0==t.results.length||!x||!O||!N)return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(y,{}),children:(0,s.jsx)(b,{reason:"NO_QUESTIONS_IN_DATABASE"})});let{question:Q,correct_answer:q,incorrect_answers:C}=t.results[z],_=Math.ceil((z+1)/E*100),T=(0,o.decode)(q),V=(0,o.decode)(Q),G=C.map(e=>(0,o.decode)(e));return(0,s.jsxs)("div",{className:"quiz",children:[(0,s.jsx)("div",{className:"w-full h-[1%]",children:(0,s.jsx)("div",{className:"progress-bar__progress",style:{width:"".concat(_,"%")}})}),(0,s.jsx)("div",{className:"question-container w-full h-[39%] ",children:V}),"boolean"===r&&(0,s.jsx)(m,{setSessionProgressTracker:S,correctAnswer:T,question:V}),"multiple"===r&&(0,s.jsx)(p,{setSessionProgressTracker:S,correctAnswer:T,incorrectAnswers:G,question:V})]})}},560:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(6266);let n=()=>{let{userQuizResult:e}=(0,s.GV)(e=>e.statsReducer),{amount:r}=(0,s.GV)(e=>e.settingsReducer),t=e.filter(e=>e).length;return{percentage:Math.round(t/e.length*100),correctAnswersLength:t,total:r}}},5547:()=>{},3435:(e,r,t)=>{"use strict";t.d(r,{k5:()=>u});var s=t(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=s.createContext&&s.createContext(n),c=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){var s,n;s=r,n=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e){return r=>s.createElement(d,a({attr:o({},e.attr)},r),function e(r){return r&&r.map((r,t)=>s.createElement(r.tag,o({key:t},r.attr),e(r.child)))}(e.child))}function d(e){var r=r=>{var t,{attr:n,size:i,title:l}=e,u=function(e,r){if(null==e)return{};var t,s,n=function(e,r){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,c),d=i||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),s.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,u,{className:t,style:o(o({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&s.createElement("title",null,l),e.children)};return void 0!==i?s.createElement(i.Consumer,null,e=>r(e)):r(n)}}},e=>{var r=r=>e(e.s=r);e.O(0,[522,446,391,212,295,926,441,517,358],()=>r(2613)),_N_E=e.O()}]);